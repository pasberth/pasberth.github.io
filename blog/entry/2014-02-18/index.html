<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    
      <title>call/ccの型</title>
    

    <link rel="stylesheet" type="text/css" href="../../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
</head>
<body>

    <div class="body">
        
  <div class="section" id="call-cc">
<h1>call/ccの型<a class="headerlink" href="#call-cc" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="../2014-02-17/index.html"><em>λρ-計算とcall/ccの型付け</em></a> を書いた直後になんか閃いた．
λρ-計算 とか，難しく考えていたワケであるが，考えてみれば， Scheme はべつに
λρ-計算ではないわけである． Scheme は， Scheme という体系であるので，
Scheme のドメインで考えればよい．</p>
<p>call/cc は， (call/cc (lambda (cont) ...)) こんな感じに使う．
ラムダを引数にとるので， call/cc : a→b であることはわかる．
(lambda (cont) ...) は，引数をひとつとるので，
a = c→d という形だろう．さらに，この引数である cont は引数をひとつとり，
しかも，戻り値は使用されないという特徴がある．したがって，
cont : e→f である．
さらに， cont の引数は call/cc の戻り値となるのであるから，
call/cc : a→b かつ cont : e→f ならば
b = e であるといえよう．cont を呼ばない場合は， (lambda (cont) ...) が
返す値がそのまま call/cc の戻り値となるのであるから，
call/cc : a→b かつ (lambda (cont) ...) : c→d ならば
b = d であるといえよう．</p>
<p>まとめると，</p>
<ol class="arabic simple">
<li>cont の戻り値は任意の型</li>
<li>cont の引数の型 = (lambda (cont) ...) の戻り値の型</li>
<li>cont の引数の型 = call/cc の戻り値の型</li>
</ol>
<p>という関係があるはずである．</p>
<p>cont の型を</p>
<ul class="simple">
<li>cont : α→β</li>
</ul>
<p>とおくと，  (lambda (cont) ...) は cont を引数にとり，
しかも cont の引数の型と同じ戻り値の型を持つわけだから，</p>
<ul class="simple">
<li>(lambda (cont) ...) : (α→β)→α</li>
</ul>
<p>call/cc は，これを引数にとり， cont の引数の型と同じ戻り値の型を
持つわけだから，したがって，</p>
<ul class="simple">
<li>((α→β)→α)→α</li>
</ul>
<p>である．これで Peirceの法則が出てきた．</p>
<p>λρ-計算は正直よくわからない(爆死)</p>
</div>


    </div>

</body>
</html>
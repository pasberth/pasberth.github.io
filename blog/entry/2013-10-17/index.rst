ブログを Sphinx で書く事にした
================================================================================

ブログを，いわゆる一般的なブログサービスではなくて，
Sphinx で書く事にした．理由はいくつかあった．

* reST で書き， reST で管理する事ができる

  * ソースコードを GitHub で管理したり， grep で検索したりできる

* クールなシンタックスハイライタ `Pygments <http://pygments.org>`_ が利用できる

  * `Gist <http://pygments.org>`_ も優秀であるけど， Sphinx であれば，
    必要とあらば， Lexer や Style も追加/変更できる

* ソースコードがあり，ほとんどが静的HTMLにできるので，
  ホスティングサービスが死んだとしても，サーバを変えれば復旧できる

  * 特定のサーバを必要としない．必要とあらば，ローカルで見る事もできる

　一部の人たちの間では，まことしやかに `Gist <http://pygments.org>`_ こそ
最強のブログサービスだとささやかれた事があったように思う．ぼくの場合，
実際そうだと思っていた．シンタックスハイライタもクールだし，
Markdown で書く事ができる．差分を見たり，フォークしたりもできる．
すくなくとも，いろいろなブログサービスに見られるたくさんの機能を
使わないぼくにとっては，あのシンプルさが魅力であった．

　でも，検索の性能には不満があった．と，いうのも，たくさん書いてしまうと，
どこへ行ったかわからなくなってしまう．常々，コマンドラインから検索
できたらいいのにな，と思っていた．
`Gist API <http://developer.github.com/v3/gists/>`_ を見れば，
そのような実装はさほど難しくないように思えた．しかし，問題はそれだけ
ではなかった．一覧性の問題もあった．たとえば，いくつか gist で記事を
書いたとして，そのぜんぶをまとめるには，どうすればよいだろうか．
まとめるための gist を作る，という手もあるが，それでは結局，問題を
先送りしているだけであるように思えた．つまりは， gist というのはあくまで
簡単なファイルを貼付けるためのサービスであって，ブログではないのだ，
という結論であった．

　とはいえ， Gist が魅力的である事に変わりはなかった．
だって，コードがカッコよく表示されるし， Markdown で記事自体もスマートに
書ける．少々ブログとしての能力を欠いていても，とても便利なように見えた．
そこで， Sphinx を思い出した． Sphinx は， reST で書く事ができるし，
コードもカッコよく表示できる． CSS どころか， HTML の構造も自由に変更できる．
それに， toctree のおかげで，ブログ一覧を作ることも簡単だ．ソースコードは
reST で，単なるテキストとして扱えるので，検索も，編集も容易い．
簡単のため， GitHub pages を使用する事とするが， いざとなれば，
自前でホスティングすればよい．ブログに特化したサービスに比べれば，
少々不便なところもあるかもしれないが，すくなくとも，そんなものを
必要としていないぼくにとっては完璧に思えた．そういうわけで，ブログを
Sphinx で書く事とした．
`pygments-style-github <https://pypi.python.org/pypi/pygments-style-github>`_
なる神モジュールもあり， Gist と似たようなコードを表示することができた．
では，試しに， Haskell の hello world コードでも載せてみるとしよう．

.. sourcecode:: haskell
   :linenos:

   module Main where

   main :: IO ()
   main = putStrLn "hello world"

このような，プログラマーがブログを書きたくなってしまうすばらしい
ツールに乾杯！